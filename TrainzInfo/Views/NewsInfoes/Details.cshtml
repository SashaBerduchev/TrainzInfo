@model TrainzInfo.Models.NewsInfo

@{
    ViewData["Title"] = Model.NameNews;
}

<!-- Заголовок новини -->
<h1 class="news-page-title">@Model.NameNews</h1>

<!-- Основна картка новини -->
<div class="news-detail-card card shadow-sm mb-5">
    <div class="row g-4 align-items-start">
        <!-- Картинка -->
        <div class="col-md-4 text-center">
            @if (Model.NewsImage == null)
            {
                <img src="@Model.Imgsrc" class="img-fluid rounded news-detail-img" alt="Новина">
            }
            else
            {
                <img src="@Url.Action("GetImage", "NewsInfoes", new { Model.id })"
                     class="img-fluid rounded news-detail-img"
                     alt="Новина">
            }
        </div>

        <!-- Текстова частина -->
        <div class="col-md-8">
            <dl class="row mb-3">
                <dt class="col-sm-3">Назва</dt>
                <dd class="col-sm-9 news-text">@Html.DisplayFor(model => model.NameNews)</dd>

                <dt class="col-sm-3">Коротко</dt>
                <dd class="col-sm-9 news-text">@Html.DisplayFor(model => model.BaseNewsInfo)</dd>

                <dt class="col-sm-3">Повна інформація</dt>
                <dd class="col-sm-9 news-text">@Html.DisplayFor(model => model.NewsInfoAll)</dd>
            </dl>

            <!-- Кнопки -->
            <div class="d-flex flex-wrap gap-2 mt-3">
                @if (ViewBag.user != null)
                {
                    <a class="btn btn-info btn-sm" asp-controller="NewsComments" asp-action="Create" asp-route-id="@Model.id">Коментувати</a>
                    <a class="btn btn-info btn-sm" asp-controller="NewsComments" asp-action="Index" asp-route-idnews="@Model.id">
                        Коментарі + @Convert.ToString(ViewBag.count)
                    </a>
                }

                @if (ViewBag.user != null && (ViewBag.user.Role == "Superadmin" || ViewBag.user.Role == "Admin" || ViewBag.user.Role == "Publisher"))
                {
                    <a class="btn btn-outline-info btn-sm" asp-action="Edit" asp-route-id="@Model.id">Редагувати інформацію</a>
                    <a class="btn btn-outline-info btn-sm" asp-action="AddImageForm" asp-route-id="@Model.id">Додати картинку</a>
                }
            </div>
        </div>
    </div>
</div>

<!-- Кастомний стиль -->
<style>
    /* Заголовок сторінки */
    .news-page-title {
        background-color: aliceblue;
        padding: 25px 20px;
        border-radius: 12px;
        text-align: center;
        font-weight: 600;
        font-size: 2rem;
        margin-bottom: 30px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    /* Карточка новини */
    .news-detail-card {
        background-color: #f9faff;
        border-radius: 12px;
        padding: 20px;
        transition: transform 0.2s, box-shadow 0.2s;
    }

        .news-detail-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

    /* Картинка новини */
    .news-detail-img {
        width: 100%;
        height: auto;
        object-fit: cover;
        border-radius: 10px;
    }

    /* Текст всередині dl */
    .news-text {
        font-size: 1.05rem;
        line-height: 1.6;
        color: #333;
    }

    /* Кнопки */
    .btn-sm {
        min-width: 130px;
    }

</style>
